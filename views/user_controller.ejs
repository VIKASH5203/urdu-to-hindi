
<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <meta name="viewport" content="width=device-width , initial-scale= 1.0">
    <title>Urdu-Hindi Converter</title>
  <!-- bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  
  <!-- googele fonts -->
  
    <link rel="stylesheet" href="./style.css">
  </head>
  
  <body>
      <div class="container upper-container" style="    background-color: white;
      position: relative;
      text-align: center;
      justify-content: center;
      margin-top: 5%;
      
      border-radius: 0.4em;
      box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2),0 6px 20px 0 rgba(0, 0, 0, 0.2);
      padding: 10px;
      color: hsl(185, 75%, 39%);
      font-size: 1rem;
      font-weight:550;
      font-family: 'Times New Roman', serif;/*Georgia, serif;*/">
  
      <form id="addWord" class="Adder needs-validation" required novalidate >
          <h2 style="margin-top: 15px; font-size: 1.4rem; color: hsl(185, 75%, 39%);
          margin-bottom: 15px;">Enter values to be added in the database</h2>
          <div class="form-row">
            <div class="form-group col-md-6">
              <input type="text" class="form-control"  placeholder="Urdu Word" name='addUrdu' required minlength="2">
              <div class="invalid-feedback">Please Enter Properly</div>
            </div>
            <div class="form-group col-md-6">
              <input type="text" class="form-control"  placeholder="Hindi Word" name='addHindi' required minlength="2">
              <div class="invalid-feedback">Please Enter properly</div>
            </div>
  
          </div>
          
      <button type="submit" class="btn btn-primary mb-3">Add</button>
    </form>
  
    <form id="updateUrdu" class="UpdaterUrdu needs-validation" novalidate>
      <h2 style="margin-top: 15px; font-size: 1.4rem; color: hsl(185, 75%, 39%);
      margin-bottom: 15px;">Enter The Urdu Word To Be Updated</h2>
      <div class="form-row">
        <div class="form-group col-md-6">
          <input type="text" class="form-control"  placeholder="Urdu Word" name='updateUrdu' required minlength="2">
          <div class="invalid-feedback">Please Enter Properly</div>
        </div>
        <div class="form-group col-md-6">
          <input type="text" class="form-control"  placeholder="Where Hindi Word is" name="Hindi" required minlength="2">
          <div class="invalid-feedback">Please Enter Properly</div>
        </div>
      </div>
  <button type="submit" class="btn btn-primary">update</button>
  </form>
  
  <form id="updateHindi" class="UpdaterHindi needs-validation" novalidate> 
      <h2 style="margin-top: 15px; font-size: 1.4rem; color: hsl(185, 75%, 39%);
      margin-bottom: 15px;">Enter The Hindi Word To Be Updated</h2>
      <div class="form-row">  
        <div class="form-group col-md-6">
          <input type="text" class="form-control"  placeholder="Where Urdu Word is"  name='Urdu' required minlength="2">
          <div class="invalid-feedback">Please Enter Properly</div>
        </div>
        <div class="form-group col-md-6">
          <input type="text" class="form-control"  placeholder="Hindi Word" name='updateHindi' required minlength="2">
          <div class="invalid-feedback">Please Enter Properly</div>
        </div>
      </div>
  
      <div>
       
      </div>
  <button type="submit" class="btn btn-primary">Update</button>
  </form>
  
  </div>
  <script>
    //let message;
      if('<%=message%>'!='default')
        alert('<%=message%>')
      function addHandler(){
        var form = document.querySelector('.Adder');
        if(form.checkValidity() === false)
        {
          event.preventDefault();
          event.stopPropagation();
        }
       
        form.classList.add('was-validated');
          
      }
      function updateHindiHandler(){
        var form = document.querySelector('.UpdaterHindi');
        if(form.checkValidity() === false)
        {
          event.preventDefault();
          event.stopPropagation();
        }
       
        form.classList.add('was-validated');
      }
      function updateUrduHandler(){
        var form = document.querySelector('.UpdaterUrdu');
        if(form.checkValidity() === false)
        {
          event.preventDefault();
          event.stopPropagation();
        }
    
        form.classList.add('was-validated');
      }

      
      const token = localStorage.getItem('token')
      const addWord = document.getElementById('addWord')
      const updateHindi = document.getElementById('updateHindi')
      const updateUrdu = document.getElementById('updateUrdu')

      addWord.addEventListener('submit',(e)=>{

                  e.preventDefault()
                  var addUrdu = document.querySelector('input[name="addUrdu"]').value
                  var addHindi = document.querySelector('input[name="addHindi"]').value
                   console.log(token)
                  const myHeader = new Headers()
                  myHeader.append("Authorization", `Bearer ${token}`);

                  const urlencoded = new URLSearchParams()
                  urlencoded.append("addUrdu", addUrdu)
                  urlencoded.append("addHindi", addHindi)

                  var options = {
                    method : 'POST',
                    headers : myHeader,
                    body : urlencoded,
                    redirect : 'follow'
                  }

                  fetch('/user_controller/add', options)
                  .then(response => response.text())
                  .then(result => alert(JSON.parse(result).message))
                  .catch(error => console.log('error', error))
      })


          updateUrdu.addEventListener('submit',(e)=>{

                  e.preventDefault()
                  var updateUrdu = document.querySelector('input[name="updateUrdu"]').value
                  var Hindi = document.querySelector('input[name="Hindi"]').value
                  console.log(token)
                  const myHeader = new Headers()
                  myHeader.append("Authorization", `Bearer ${token}`);

                  const urlencoded = new URLSearchParams()
                  urlencoded.append("updateUrdu", updateUrdu)
                  urlencoded.append("Hindi", Hindi)

                  var options = {
                    method : 'POST',
                    headers : myHeader,
                    body : urlencoded,
                    redirect : 'follow'
                  }

                  fetch('/user_controller/updateUrdu', options)
                  .then(response => response.text())
                  .then(result => alert(JSON.parse(result).message))
                  .catch(error => console.log('error', error))
            })
      updateHindi.addEventListener('submit',(e)=>{

                  e.preventDefault()
                  var Urdu = document.querySelector('input[name="Urdu"]').value
                  var updateHindi = document.querySelector('input[name="updateHindi"]').value
                  console.log(token)
                  const myHeader = new Headers()
                  myHeader.append("Authorization", `Bearer ${token}`);

                  const urlencoded = new URLSearchParams()
                  urlencoded.append("Urdu", Urdu)
                  urlencoded.append("updateHindi", updateHindi)

                  var options = {
                    method : 'POST',
                    headers : myHeader,
                    body : urlencoded,
                    redirect : 'follow'
                  }

                  fetch('/user_controller/updateHindi', options)
                  .then(response => response.text())
                  .then(result => alert(JSON.parse(result).message))
                  .catch(error => console.log('error', error)) 
              })

    
  </script>
  </body>
  </html>